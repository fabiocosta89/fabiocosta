@model StandardArchive

@{
    ViewData["Title"] = !string.IsNullOrEmpty(Model.MetaTitle) ? Model.MetaTitle : Model.Title;
    ViewData["Description"] = "This is my blog. You can find some of my thougths in here.";

    var posts = Model.Archive.Posts.Count;
    var aosDelay = 100;
}

@section Scripts {
    <script async src="~/js/bundleSite.js" asp-append-version="true"></script>
}

@section head {
    @WebApp.MetaTags(Model)
}

<!-- Blog -->
<section class="container">
    <div class="col-lg-9 mx-auto col-md-10 col-12 mt-lg-5 mb-5 text-center" data-aos="fade-up">
        <h4 class="blog-category">Blog</h4>
        <h1>My thoughts of the moment...</h1>

        <div class="client-info">
            <div class="d-flex justify-content-center align-items-center mt-3">
                <img src="images/shared/male-avatar.png"
                     class="img-fluid"
                     alt="male avatar"
                     width="100"
                     height="92">

                <p>Fábio Costa</p>
            </div>
        </div>
    </div>

    <!-- Posts -->
    @if (posts > 0)
    {
        foreach (var post in Model.Archive.Posts)
        {
            <div class="row" data-aos="fade-up" data-aos-delay="@aosDelay">
                <div class="col-lg-6 col-md-6 col-12 mb-5">
                    <a href="@post.Permalink">
                        <img src="@Url.Content(WebApp.Media.ResizeImage(post.PrimaryImage, 300))" class="img-fluid-70 mx-auto d-block" alt="@post.PrimaryImage.Media.AltText">
                    </a>
                </div>

                <div class="col-lg-5 col-md-6 mr-lg-auto mt-lg-5 col-12">
                    <h2 class="mb-3"><a href="@post.Permalink">@post.Title</a></h2>

                    <p class="post-meta">
                        <span>
                            In <a href="">@post.Category.Title</a>
                        </span>
                        <span>
                            Tags
                            @foreach (var tag in post.Tags)
                            {
                                <a href="">#@tag.Slug</a>
                            }
                        </span>
                        @if (post.IsPublished)
                        {
                            <span>
                                Published @post.Published.Value.ToShortDateString()
                            </span>
                        }
                        @if (post.EnableComments && post.CommentCount > 0)
                        {
                            <span>
                                <a href="">@post.CommentCount @(post.CommentCount == 1 ? "comment" : "comments")</a>
                            </span>
                        }
                    </p>
                    <p class="mt-3 mb-4">@Html.Raw(post.Excerpt)</p>
                    <a href="@post.Permalink" class="btn-primary btn mb-4">Read more</a>
                </div>
            </div>

            <hr data-aos="fade-up" data-aos-delay="200" />

            aosDelay = 200;
        }
    }
</section>